name: Security Scan

on:
  # –¢–û–õ–¨–ö–û –¥–ª—è Pull Request –≤ main –∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
  pull_request:
    branches: [ main, master ]
    types: [ opened, synchronize, reopened ]  # –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏, –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ PR
  schedule:
    - cron: '0 0 * * 0'  # –†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é –≤ –ø–æ–ª–Ω–æ—á—å

jobs:
  security:
    name: üîí Security Checks
    runs-on: ubuntu-latest
    
    # –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è Pull Request - –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
    permissions:
      contents: read
      pull-requests: read
    
    steps:
    - name: üì• Checkout code
      uses: actions/checkout@v4
      with:
        fetch-depth: 0  # –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∫–æ–º–º–∏—Ç–æ–≤
    
    - name: üêç Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'
        cache: 'pip'
    
    - name: üì¶ Install dependencies
      run: |
        python -m pip install --upgrade pip
        # –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
        pip install bandit flask flask-sqlalchemy flask-wtf python-dotenv
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫
        pip install safety  # –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
    
    # ========== 1. SAST –°–ö–ê–ù BANDIT ==========
    - name: üîç Run Bandit SAST Scan
      id: bandit
      run: |
        echo "üö® –ó–∞–ø—É—Å–∫ Bandit —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏..."
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ Python —Ñ–∞–π–ª—ã –≤ PR
        if [ "${{ github.event_name }}" = "pull_request" ]; then
          echo "üìã –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ PR..."
          # –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
          git diff --name-only origin/main...HEAD -- "*.py" > changed_files.txt
          
          if [ -s changed_files.txt ]; then
            echo "üìÑ –§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:"
            cat changed_files.txt
            
            # –ó–∞–ø—É—Å–∫–∞–µ–º Bandit —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
            bandit -r $(cat changed_files.txt) \
              -f html -o bandit-report.html \
              --skip B101,B404,B603,B105,B106,B107,B108 \
              --severity-level all \
              --confidence-level high,medium
          else
            echo "‚úÖ –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö Python —Ñ–∞–π–ª–æ–≤"
            echo "skip_bandit=true" >> $GITHUB_OUTPUT
            exit 0
          fi
        else
          # –ü—Ä–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ
          echo "‚è∞ –ó–∞–ø—É—Å–∫ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é - –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã..."
          bandit -r . \
            -f html -o bandit-report.html \
            --skip B101,B404,B603,B105,B106,B107,B108 \
            --severity-level high,medium \
            --confidence-level high,medium
        fi
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        if [ -f bandit-report.html ]; then
          # –ò—â–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏
          if grep -q "severity: HIGH" bandit-report.html || \
             grep -q "severity: MEDIUM" bandit-report.html; then
            echo "‚ùå –ù–ê–ô–î–ï–ù–´ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –£–Ø–ó–í–ò–ú–û–°–¢–ò!"
            echo "result=FAILED" >> $GITHUB_OUTPUT
            exit 1  # –ë–õ–û–ö–ò–†–£–ï–ú –ü–†–û–•–û–ñ–î–ï–ù–ò–ï!
          else
            echo "‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"
            echo "result=PASSED" >> $GITHUB_OUTPUT
          fi
        else
          echo "‚ö†Ô∏è Bandit –æ—Ç—á–µ—Ç –Ω–µ —Å–æ–∑–¥–∞–Ω"
          echo "result=SKIPPED" >> $GITHUB_OUTPUT
        fi
    
    # ========== 2. –ü–†–û–í–ï–†–ö–ê DEBUG –†–ï–ñ–ò–ú–ê ==========
    - name: üö´ Check for Debug Mode
      id: debug_check
      run: |
        echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ debug —Ä–µ–∂–∏–º–∞ –≤ –∫–æ–¥–µ..."
        
        # –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ (–≤–∫–ª—é—á–∞—è —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã)
        DEBUG_PATTERNS=(
          "debug\s*=\s*True"
          "DEBUG\s*=\s*True"
          "debug=True"
          "app.run.*debug=True"
          "FLASK_DEBUG.*=.*true"
          "FLASK_ENV.*=.*development"
        )
        
        ERROR_FOUND="false"
        
        for pattern in "${DEBUG_PATTERNS[@]}"; do
          FILES=$(grep -r -l "$pattern" . \
            --include="*.py" \
            --include="*.env" \
            --include="*.yml" \
            --include="*.yaml" \
            --exclude-dir=.git \
            --exclude-dir=__pycache__ \
            --exclude-dir=.github || true)
          
          if [ -n "$FILES" ]; then
            echo "‚ùå –û–ë–ù–ê–†–£–ñ–ï–ù debug=True –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö:"
            echo "$FILES"
            grep -n "$pattern" $FILES || true
            ERROR_FOUND="true"
          fi
        done
        
        if [ "$ERROR_FOUND" = "true" ]; then
          echo "üö´ Debug —Ä–µ–∂–∏–º –æ–±–Ω–∞—Ä—É–∂–µ–Ω! –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–ª–∏—è–Ω–∏–µ."
          echo "debug_found=true" >> $GITHUB_OUTPUT
          exit 1  # –ë–õ–û–ö–ò–†–£–ï–ú!
        else
          echo "‚úÖ Debug —Ä–µ–∂–∏–º –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω"
          echo "debug_found=false" >> $GITHUB_OUTPUT
        fi
    
    # ========== 3. –ü–†–û–í–ï–†–ö–ê –°–ï–ö–†–ï–¢–û–í ==========
    - name: üîë Check for Hardcoded Secrets
      id: secrets_check
      continue-on-error: true  # –ù–µ –±–ª–æ–∫–∏—Ä—É–µ–º, —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ–º
      run: |
        echo "üîê –ü–æ–∏—Å–∫ —Ö–∞—Ä–¥–∫–æ–¥ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –∫–æ–¥–µ..."
        
        # –û–ø–∞—Å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
        DANGEROUS_PATTERNS=(
          "password\s*=\s*['\"].+['\"]"
          "secret_key\s*=\s*['\"].+['\"]"
          "api_key\s*=\s*['\"].+['\"]"
          "token\s*=\s*['\"].+['\"]"
          "admin.*['\"].*['\"]"
          "root.*['\"].*['\"]"
        )
        
        for pattern in "${DANGEROUS_PATTERNS[@]}"; do
          echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞: $pattern"
          grep -r -n -i "$pattern" . \
            --include="*.py" \
            --exclude-dir=.git \
            --exclude-dir=__pycache__ \
            --exclude-dir=node_modules || true
        done
        
        echo "‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤."
    
    # ========== 4. –ü–†–û–í–ï–†–ö–ê SQL-–ò–ù–™–ï–ö–¶–ò–ô ==========
    - name: üõ°Ô∏è Check for SQL Injection Patterns
      id: sql_check
      run: |
        echo "üíâ –ü–æ–∏—Å–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö SQL-–∏–Ω—ä–µ–∫—Ü–∏–π..."
        
        # –ò—â–µ–º –æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
        SQL_PATTERNS=(
          "f\".*SELECT"
          "f\".*INSERT"
          "f\".*UPDATE"
          "f\".*DELETE"
          "f\".*FROM"
          "execute.*f\"" 
          "cursor.execute.*%"
          "\+.*WHERE"
        )
        
        SQL_FOUND="false"
        
        for pattern in "${SQL_PATTERNS[@]}"; do
          FILES=$(grep -r -l "$pattern" . \
            --include="*.py" \
            --exclude-dir=.git \
            --exclude-dir=__pycache__ || true)
          
          if [ -n "$FILES" ]; then
            echo "‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è SQL-–∏–Ω—ä–µ–∫—Ü–∏—è (–ø–∞—Ç—Ç–µ—Ä–Ω: $pattern):"
            echo "$FILES"
            grep -n "$pattern" $FILES || true
            SQL_FOUND="true"
          fi
        done
        
        if [ "$SQL_FOUND" = "true" ]; then
          echo "‚ùå –û–ë–ù–ê–†–£–ñ–ï–ù–´ –ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–´–ï SQL-–ò–ù–™–ï–ö–¶–ò–ò!"
          echo "‚ö†Ô∏è –ó–∞–º–µ–Ω–∏—Ç–µ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—é —Å—Ç—Ä–æ–∫ –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã!"
          echo "sql_found=true" >> $GITHUB_OUTPUT
          exit 1  # –ë–õ–û–ö–ò–†–£–ï–ú!
        else
          echo "‚úÖ –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã"
          echo "sql_found=false" >> $GITHUB_OUTPUT
        fi
    
    # ========== 5. –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø ==========
    - name: üß™ Test Application Startup
      id: app_test
      run: |
        echo "üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è..."
        
        # –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
        export SECRET_KEY="test_secret_key_for_ci"
        export DATABASE_URL="sqlite:///test_ci.db"
        export FLASK_DEBUG="False"
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–º–ø–æ—Ä—Ç
        if python -c "
        import sys
        sys.path.append('.')
        from app import app
        print('‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ')
        from models import db, Note, User
        print('‚úÖ –ú–æ–¥–µ–ª–∏ —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã')
        db.create_all()
        print('‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞')
                "; then
                  echo "‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ"
                  echo "app_test=SUCCESS" >> $GITHUB_OUTPUT
                else
                  echo "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"
                  echo "app_test=FAILED" >> $GITHUB_OUTPUT
                  exit 1
                fi
    
    # ========== 6. –ì–ï–ù–ï–†–ê–¶–ò–Ø –û–¢–ß–ï–¢–ê ==========
    - name: üìä Generate Security Report
      if: always()
      run: |
        echo "üìã ================================="
        echo "üìã     –û–¢–ß–ï–¢ –ü–û –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò"
        echo "üìã ================================="
        echo ""
        echo "üìÖ –î–∞—Ç–∞: $(date)"
        echo "üîó PR: ${{ github.event.pull_request.html_url || 'N/A' }}"
        echo "üë§ –ê–≤—Ç–æ—Ä: ${{ github.actor }}"
        echo "üîÑ –í–µ—Ç–∫–∞: ${{ github.head_ref || github.ref }}"
        echo ""
        echo "üìà –†–ï–ó–£–õ–¨–¢–ê–¢–´:"
        echo "--------------------------------"
        
        # Bandit —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        if [ "${{ steps.bandit.outputs.result }}" = "PASSED" ]; then
          echo "üîí Bandit SAST: ‚úÖ –ü–†–û–ô–î–ï–ù–û"
        elif [ "${{ steps.bandit.outputs.result }}" = "FAILED" ]; then
          echo "üîí Bandit SAST: ‚ùå –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û - –Ω–∞–π–¥–µ–Ω—ã —É—è–∑–≤–∏–º–æ—Å—Ç–∏"
        else
          echo "üîí Bandit SAST: ‚ö™ –ü–†–û–ü–£–©–ï–ù–û"
        fi
        
        # Debug –ø—Ä–æ–≤–µ—Ä–∫–∞
        if [ "${{ steps.debug_check.outputs.debug_found }}" = "false" ]; then
          echo "üêõ Debug —Ä–µ–∂–∏–º: ‚úÖ –ù–ï –ù–ê–ô–î–ï–ù"
        else
          echo "üêõ Debug —Ä–µ–∂–∏–º: ‚ùå –ù–ê–ô–î–ï–ù - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞"
        fi
        
        # SQL –ø—Ä–æ–≤–µ—Ä–∫–∞
        if [ "${{ steps.sql_check.outputs.sql_found }}" = "false" ]; then
          echo "üíâ SQL –∏–Ω—ä–µ–∫—Ü–∏–∏: ‚úÖ –ù–ï –ù–ê–ô–î–ï–ù–´"
        else
          echo "üíâ SQL –∏–Ω—ä–µ–∫—Ü–∏–∏: ‚ùå –ù–ê–ô–î–ï–ù–´ - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞"
        fi
        
        # –¢–µ—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        if [ "${{ steps.app_test.outputs.app_test }}" = "SUCCESS" ]; then
          echo "üöÄ –¢–µ—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: ‚úÖ –£–°–ü–ï–®–ù–û"
        else
          echo "üöÄ –¢–µ—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: ‚ùå –û–®–ò–ë–ö–ê"
        fi
        
        echo ""
        echo "üìå –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:"
        echo "--------------------------------"
        echo "1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã"
        echo "2. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ –∫–æ–¥–µ"
        echo "3. –í—Å–µ–≥–¥–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ debug=False –≤ production"
        echo "4. –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏"
        echo ""
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç—á–µ—Ç –≤ —Ñ–∞–π–ª
        echo "üìã =================================" > security_summary.md
        echo "üìã     –û–¢–ß–ï–¢ –ü–û –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò" >> security_summary.md
        echo "üìã =================================" >> security_summary.md
        echo "" >> security_summary.md
        echo "**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:**" >> security_summary.md
        echo "" >> security_summary.md
        echo "- **Bandit SAST:** ${{ steps.bandit.outputs.result || 'N/A' }}" >> security_summary.md
        echo "- **Debug —Ä–µ–∂–∏–º:** ${{ steps.debug_check.outputs.debug_found == 'false' && '‚úÖ –ù–µ –Ω–∞–π–¥–µ–Ω' || '‚ùå –ù–∞–π–¥–µ–Ω' }}" >> security_summary.md
        echo "- **SQL –∏–Ω—ä–µ–∫—Ü–∏–∏:** ${{ steps.sql_check.outputs.sql_found == 'false' && '‚úÖ –ù–µ –Ω–∞–π–¥–µ–Ω—ã' || '‚ùå –ù–∞–π–¥–µ–Ω—ã' }}" >> security_summary.md
        echo "- **–¢–µ—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** ${{ steps.app_test.outputs.app_test || 'N/A' }}" >> security_summary.md
    
    # ========== 7. –ó–ê–ì–†–£–ó–ö–ê –ê–†–¢–ï–§–ê–ö–¢–û–í ==========
    - name: üì§ Upload Security Reports
      if: always()
      uses: actions/upload-artifact@v4
      with:
        name: security-reports-${{ github.run_number }}
        path: |
          bandit-report.html
          security_summary.md
        retention-days: 30


        # ========== 8. –§–ò–ö–°: –°–û–ó–î–ê–ù–ò–ï –°–¢–ê–¢–£–°-–ß–ï–ö–ê ==========
    - name: ‚úÖ Create Status Check
      if: always()  # –í—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ–º, –¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —à–∞–≥–∏ —É–ø–∞–ª–∏
      run: |
        # –ü—Ä–æ—Å—Ç–æ –∑–∞–≤–µ—Ä—à–∞–µ–º —à–∞–≥ - —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
        echo "Workflow Security Scan –∑–∞–≤–µ—Ä—à–µ–Ω —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º: ${{ job.status }}"
        # –ì–ª–∞–≤–Ω–æ–µ - –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç—å —Å –∫–æ–¥–æ–º –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ –º—ã —É–∂–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏—Å—å —Ä–∞–Ω–µ–µ